<% if @rides.present?%>
  <% if @search %>
    <h1><%= "#{@rides.count } Rides found for you"%> </h1>
  <% else %>
    <h1>Listing Rides</h1>
  <% end %>
  <table id ="rides_table">
   <thead>
    <tr>
      <th>Source</th>
      <th>Destination</th>
      <th>Price</th>
      <th>Date</th>
      <th>Seats</th>
      <th>Onwer</th>
      <th>Contact</th>
      <th>Email</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @rides.each do |ride| %>
      <tr>
        <td><%= ride.source %></td>
        <td><%= ride.destination %></td>
        <td><%= ride.price %></td>
        <td><%= ride.date %></td>
        <td><%= ride.seats %></td>
        <td><%= ride.user.present? ? ride.user.name : 'N/A'  %></td>
        <td><%= ride.contact %></td>
        <td><%= ride.email %></td>
        <td><%= link_to 'Show', ride %></td>
        <td><%= link_to 'Edit', edit_ride_path(ride) %></td>
        <td><%= link_to 'Destroy', ride, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
   </tbody>
  </table>
<% end %>
<br />
<h1><%= "No rides found for you" if @rides.count == 0%> </h1>
<%= link_to 'New Ride', new_ride_path %> | <%= link_to 'Find Ride', find_rides_rides_path %>

<script>
  $( document ).ready(function() {
    $('#rides_table').dataTable({
			"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]
		});
  });
</script>
